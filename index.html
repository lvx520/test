<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:shiro="http://www.thymeleaf.org/thymeleaf-extras-shiro">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>简易学习网</title>
    <link rel="stylesheet" href="layui/css/layui.css"  media="all">
    <script src="js/jqurey-1.10.1.js"></script>
    <link href="font-awesome/css/font-awesome.css" rel="stylesheet">
    <!-- 让IE8/9支持媒体查询，从而兼容栅格 -->
    <script src="https://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
    <script src="https://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
    <link rel="stylesheet" type="text/css" href="css/coustom/test.css" />
    <link rel="stylesheet" type="text/css" href="css/coustom/allCoustom.css" />
    <link rel="stylesheet" type="text/css" href="css/bodyDiv.css" />
</head>
<body style="background-color: whitesmoke;overflow-x: hidden">
<div class="container" >

    <div class="zj1">
        <!--我浮动在上面-->
        <img id="title_img" src="img/favicon.ico">
        <span id="title"><h4>简易学习网</h4></span>
        <div id="title_page7" th:if="${session.user!=null}">
            <div  shiro:hasPermission="admin">
                <span><h3><a id="back-stage" href="/admin/main">后台</a></h3></span>
            </div>
        </div>
        <div id="title_page6"  th:if="${session.user!=null}">
            <span th:text="${session.user.username}"></span>
            <span><a href="/logout">退出</a></span>
        </div>
        <div id="title_page5" th:if="${session.user==null}">
                   <span><h3><a href="/skip/login">登录/注册</a></h3></span>
        </div>

        <div class="search bar4" >
            <form action="/coustom/mainSousuo" method="get">
                <input type="text" name="sousuoFont" id="sousuoText" placeholder="请输入您要搜索的内容...">
                <button type="submit" id="sousuoFrom"></button>
            </form>
        </div>
        <span id="title_page4"><a href="/skip/ourJianYi">关于我们</a></span>

        <!--<span id="title_page3">简易博文</span>-->
        <span id="title_page2"><a href="/skip/note">简易笔记</a></span>
        <span id="title_page1"><a href="/skip/main2">首页</a></span>
    </div>
    <div id="div_body">
        <div class="layui-row" >
            <div  class="layui-col-xs2" id="div_body_left">
                <div id="div_body_left_boder" style="background-color: white;float: left">
                </div>
            </div>
            <div  class="layui-col-xs8" style="background-color: white;float: left;margin-left: 10px;margin-top:20px;background-color: white">
                <div id="div_right">
                    <div id="div_right_d">
                        <div id="header" style="background-color: white;float: left;margin-bottom: 10px">

                        </div>
                    </div>
                </div>
            </div>
        <div  class="layui-col-xs2" style="margin-top: 50px;float: left;margin-left: 15px;width: 110px">
            <div id="advers" style="float: left;margin-left: 5px;margin-right: 5px">

            </div>
        </div>

    </div>

    <div style="float: left;margin-top: 20px;margin-left: 50px;margin-bottom: 10px;width: 100%">
        <div class="layui-row">
            <div  class="layui-col-xs3">
                <!--<div class="layui-col-xs3">-->
                    <!--<img id="title_img2" src="/favicon.ico">-->
                <!--</div>-->
                <div class="layui-col-xs5" style="float:right;margin-right: 50px">
                    <div>
                        <p style="float: right;margin-right: 10px;font-size: 22px;margin-top: 20px">简易学习网</p>
                    </div>
                    <div>
                        <p style="float: right;margin-right: 10px;font-size: 22px;margin-top: 10px">JianYi.cn</p>
                    </div>
                </div>
                <div style="float:right">
                    <span id="title3" style="margin-bottom: 10px">本站初心是与大家一起学习一起进</br>步，勇敢学习，为梦想而战！</span>
               <br><br>
                </div>
            </div>
            <div  class="layui-col-xs2" style="width:220px;margin-left: 50px">

                    <ul style="float: left;margin-top: 30px">
                        <li style="float:left;margin-left: 20px;margin-top: 20px"><a  href="">联系方式</a></li>
                        <li style="float:left;margin-left: 20px;margin-top: 5px"><a target="_blank"  href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=2135261459@qq.com">QQ邮箱:2135261459@qq.com</a></li>
                        <li style="float:left;margin-left: 20px;margin-top: 5px"> <a  href="mailto:Lvx5202020@163.com">163邮箱:Lvx5202020@163.com</a></li>
                    </ul>
            </div>
            <div  class="layui-col-xs2" style="width:200px;margin-left: 50px;">
                    <ul style="float: left;margin-left: 10px;margin-top: 15px">
                        <li style="float:left;margin-top: 20px">友情链接</li><br>
                        <li style="float:left;margin-top: 5px"><a  href="https://www.runoob.com">菜鸟教程</a></li><br>
                        <li style="float:left;margin-top: 5px"> <a  href="https://www.layui.com">Layui官网</a></li><br>
                        <li style="float:left;margin-top: 5px"><a  href="https://www.bootcss.com">Bootstrap官网</a></li>
                    </ul>
            </div>
            <div  class="layui-col-xs3" style="float:left;margin-left: 20px">
                    <img src="img/weixin.jpg" style="width: 120px;float: left;margin-left: 10px;margin-top: 30px">
                    <img src="img/qq.jpg" style="width: 120px;float: left;margin-left: 10px;margin-top: 30px">
            </div>
            </div>
        </div>
    </div>
    <br><br><br><br>
    <div>


    </div>
    <div>

    </div>
</div>
</body>
<script src="/layui/layui.js" charset="utf-8"></script>
<!-- 全屏图标 -->
<script>
    //根据类型属性跳转
    $(document).on("click",".click_skip_page",function(){
        var type=$(this).attr("select-type");
        window.location.href="/coustom/showOneType?type="+type;
    });
    //根据标题属性跳转
    $(document).on("click",".content-div",function(){
        var title=$(this).attr("select-title");
       // alert(title)
        //window.location.href="/coustom/showOneBlog?id="+ids;
        window.location.href="/coustom/showOnetitle?typename="+title;
    });


    $(function () {
        //  查询所有教程
        all__bigType();
        //侧边广告
        right_adver();
    })
    function all__bigType(){
        $.ajax({
            url: "/coustomer/selectAllBigType",
            type: "get",
            success: function (result) {
                bulid_all__bigType(result);
            }
        })
    }
    function bulid_all__bigType(result) {
        //清空之前的数据
        $("#div_body_left_boder").empty();
        var i=1;
        var bigTypes = result.extend.bigTypeList;
        $.each(bigTypes, function (index, item) {
            var type_i=$("<i class='left_i'></i>").append(item.type)
            var typename = $("<p class='click_skip_page' ><i class='fa fa-external-link' ></i></p>")
                .append(type_i);
            //自定义属性
            typename.attr('select-type', item.type);
            $("<div></div>")
                .append(typename)
                .append("<hr >")
                .appendTo("#div_body_left_boder");
            var hea_h2=$("<h2><i class='fa fa-list'></i></h2>").append(item.type);
            var hea_p=$("<p></p>").append(hea_h2);
            var d2= $("<div style='float: left; margin-top: 20px'></div>").append(hea_p);
            var d1= $("<div style='float: left; margin-top: 5px'></div>").attr("id","a"+i);
            $("<div style='float: left; margin-top: 20px;width: 100%;'></div>")
                .append(d2)
                .append("<hr >")
               .append(d1)
                .appendTo("#header");

            all_course("a"+i,item.type);
            i++;
        })
    }
    //加载教程
    function all_course(res,type){
        $.ajax({
            url: "/coustomer/selectAllsmalltype",
            type: "get",
            data:{'type':type},
            success: function (result) {
                bulid_all_course(result,res);
            }
        })
    }
    function bulid_all_course(result,res) {

        //清空之前的数据
        $("#allCourse").empty();

        var smalltype = result.extend.smalltypeList;
        $.each(smalltype, function (index, item) {
            var h_title=$("<h3 class='content-title'></h3>").append("【").append(item.typename).append("】");
            var img=$("<img class='content-img' alt='暂无图片'>").attr("src",'/img/'+item.imgurl)
            var div_img=$("<div class='layui-col-xs3'></div>").append(img)
            var profile=$("<strong></strong>").append(item.summary)
            var div_profile1=$("<div class='content-profile'></div>").append(profile);
            var div_profile2=$("<div class='layui-col-xs9'></div>").append(div_profile1);
                var div_title = $("<div class='layui-col-xs3 content-div' id='div-type'></div>")
                    .append(h_title)
                    .append(div_img)
                    .append(div_profile2)
                    .append("<br>")
                    .appendTo("#"+res);
                div_title.attr("select-title", item.typename)

        })
    }
    //侧边广告栏
    function right_adver(){
        $.ajax({
            url: "/coustomer/selectrightadver",
            type: "get",
            data:{"position":"1"},
            success: function (result) {
                bulid_all_adver(result);
            }
        })
    }
    function bulid_all_adver(result) {

        //清空之前的数据
        $("#advers").empty();

        var adver = result.extend.adverList;
        $.each(adver, function (index, item) {
           var img=$("<img style='width: 100px;height:200px;float: left;margin-top: 20px' alt='暂无图片'>").attr("src",'/img/'+item.imgurl)
             var div_title = $("<div></div>")
                .append(img)
                .append("<br>")
                .appendTo("#advers");

        })
    }
</script>

</html>